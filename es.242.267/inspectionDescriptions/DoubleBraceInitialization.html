<html>
<body>
<a href="https://www.c2.com/cgi/wiki?DoubleBraceInitialization">이중 중괄호 초기화</a>를 보고합니다.
<p>이중 중괄호 초기화 시 추가 클래스를 로드해야 하므로 일반 초기화보다 성능이 저하됩니다.</p>
<p>또한 <code>equals()</code> 메서드가 매개변수로 하위 클래스를 허용하지 않을 경우 <code>equals()</code> 비교가 실패할 수 있습니다.</p>
<p>Double brace initialization may cause memory leaks when used in a non-static context. This is because it defines an anonymous class
  that will reference the surrounding object, when compiled with javac from before Java 18.</p>
<p>또한 Java 9 이전 버전에서 이중 중괄호 초기화는 익명 클래스와 호환되지 않아 다이아몬드 연산자와 결합할 수 없었습니다.
</p>
<p><b>예:</b></p>
<pre><code>
  List&lt;Integer&gt; list = new ArrayList&lt;&gt;() {{
    add(1);
    add(2);
  }};
</code></pre>
<p>빠른 수정 적용 후:</p>
<pre><code>
  List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
  list.add(1);
  list.add(2);
</code></pre>
<!-- tooltip end -->
</body>
</html>